<!DOCTYPE html>
<HTML LANG="ja">
<HEAD>
<META CHARSET="utf-8">
<META NAME="robots" CONTENT="nofollow">
<meta http-equiv="Content-Type" content="text/html">
<TITLE>ぱずぷれv3 FailCode一覧</TITLE>
<style type="text/css">
  code {
    display: block;
    white-space: pre;
  }
</style>
<script type="text/javascript">
function loadAllScript(){
  var loadedall = true;
  pzpr.variety.each(function(pid){
    pzpr.classmgr.includeCustomFile(pid);
    if(!pzpr.custom[pid]){ loadedall = false;}
  });
  if(!loadedall){
    setTimeout(loadAllScript,100);
  }
  else{
    bglist();
  }
}
function bglist(){
  var main = document.getElementById("main");
  var list = [], commons = {};
  for(var pid in pzpr.custom){
    var FC = pzpr.custom[pid].FailCode.prototype;
    for(var code in FC){
      if(code==='common' || code==='pid' || !FC.hasOwnProperty(code)){ continue;}
      if(typeof(FC[code]) !== 'object'){ continue;}
      list.push({code:code, pid:pid, ja:FC[code][0], en:FC[code][1]});
    }
  }

  var sorted = list.sort(function(a,b){ return a.pid>=b.pid ? 1 : -1;});
  
  var txt_en = "{\n";
  var txt_ja = "{\n";
  var txt_keys = "{\n";
  for(var i in sorted){
    var obj = list[i];

    var key = "    \"" + obj.code + "." + obj.pid + "\": ";
    txt_en += key;
    txt_en += JSON.stringify(obj.en);
    txt_en += ",\n";

    txt_ja += key;
    txt_ja += JSON.stringify(obj.ja);
    txt_ja += ",\n";

    txt_keys += obj.code + ": " + "\"" + obj.code + "." + obj.pid + "\",\n";
  }
  txt_en += "}";
  txt_ja += "}";
  txt_keys += "}";
  [txt_keys, txt_en, txt_ja].forEach(function(txt) {
    var el = document.createElement('code');
    el.appendChild(document.createTextNode(txt));
    main.appendChild(el);
  });
}
window.addEventListener('load', loadAllScript, false);
</script>
<script type="text/javascript" src="../../dist/js/pzpr.js"></script>
</HEAD>
<BODY>
<div id=main></div>
</BODY>
</HTML>
